import streamlit as st
import folium
from streamlit_folium import st_folium

# 페이지 설정
st.set_page_config(page_title="🍣 일본 맛집 지도", layout="wide")

st.title("🍜 일본 주요 도시별 맛집 지도")
st.markdown("일본의 주요 도시별로 엄선된 **7개의 맛집**을 소개합니다! 도시를 선택하여 해당 지역의 맛집을 확인해보세요 😊")

# 도시 목록
cities = ["도쿄", "오사카", "교토", "후쿠오카", "삿포로", "나고야"]
selected_city = st.selectbox("도시를 선택하세요:", cities)

# 각 도시의 중심 좌표
city_coords = {
    "도쿄": [35.6895, 139.6917],
    "오사카": [34.6937, 135.5023],
    "교토": [35.0116, 135.7681],
    "후쿠오카": [33.5902, 130.4017],
    "삿포로": [43.0618, 141.3545],
    "나고야": [35.1815, 136.9066]
}

# 각 도시별 맛집 데이터 (7개씩) — 생략된 부분도 앞에서와 동일하게 복사
restaurants = {
    "도쿄": [
        {"name": "이치란 라멘", "lat": 35.6938, "lon": 139.7034, "desc": "진한 돈코츠 육수로 유명한 라멘 🍜"},
        {"name": "스시 다이", "lat": 35.6556, "lon": 139.7631, "desc": "츠키지 시장의 전설적인 스시집 🍣"},
        {"name": "톤키", "lat": 35.6411, "lon": 139.6982, "desc": "메구로의 전통 돈카츠 맛집 🐖"},
        {"name": "우동 마루카", "lat": 35.6938, "lon": 139.7635, "desc": "쫄깃한 면발의 우동 전문점 🍜"},
        {"name": "아후리 라멘", "lat": 35.6618, "lon": 139.7041, "desc": "유자 향이 매력적인 라멘 🍋"},
        {"name": "야키니쿠 모토야마", "lat": 35.6895, "lon": 139.7004, "desc": "프리미엄 와규 야키니쿠 🍖"},
        {"name": "오코노미야키 키지", "lat": 35.6275, "lon": 139.7400, "desc": "도쿄 스타일 오코노미야키 🥞"},
    ],
    "오사카": [
        {"name": "아진오야", "lat": 34.6673, "lon": 135.5012, "desc": "오사카 명물 오코노미야키 맛집 🥢"},
        {"name": "타코야키 아쿠로", "lat": 34.6708, "lon": 135.5023, "desc": "치즈 타코야키로 유명한 곳 🐙"},
        {"name": "멘야 무사시", "lat": 34.6851, "lon": 135.5000, "desc": "진한 국물의 라멘 전문점 🍜"},
        {"name": "스시 오사카", "lat": 34.6920, "lon": 135.4950, "desc": "신선한 재료의 스시 🍣"},
        {"name": "텐푸라 마사", "lat": 34.6880, "lon": 135.5010, "desc": "바삭한 튀김의 텐푸라 전문점 🍤"},
        {"name": "야키니쿠 타로", "lat": 34.6860, "lon": 135.4990, "desc": "프리미엄 와규 야키니쿠 🍖"},
        {"name": "카레 우동 마루", "lat": 34.6840, "lon": 135.4970, "desc": "매콤한 카레 우동 🍛"},
    ],
    "교토": [
        {"name": "츠지리", "lat": 35.0116, "lon": 135.7681, "desc": "말차 디저트의 본가 🍵"},
        {"name": "효테이", "lat": 35.0144, "lon": 135.7850, "desc": "400년 전통의 가이세키 요리 🍱"},
        {"name": "기온 스이게츠", "lat": 35.0037, "lon": 135.7788, "desc": "미니 가이세키와 창의 일식 🍽️"},
        {"name": "라멘 키이치", "lat": 35.0200, "lon": 135.7600, "desc": "진한 국물의 라멘 🍜"},
        {"name": "스시 타카미츠", "lat": 35.0020, "lon": 135.7700, "desc": "신선한 재료의 스시 🍣"},
        {"name": "텐푸라 마사", "lat": 35.0060, "lon": 135.7400, "desc": "바삭한 튀김의 텐푸라 전문점 🍤"},
        {"name": "오코노미야키 키지", "lat": 35.0020, "lon": 135.7200, "desc": "교토 스타일 오코노미야키 🥞"},
    ],
    "후쿠오카": [
        {"name": "신신 라멘", "lat": 33.5895, "lon": 130.4200, "desc": "하카타식 라멘의 진수 🍜"},
        {"name": "야타이 오야지", "lat": 33.5902, "lon": 130.4017, "desc": "텐진 거리의 노점 푸드트럭 🍢"},
        {"name": "스시 센파치", "lat": 33.5910, "lon": 130.4000, "desc": "신선한 스시와 사시미 전문 🍣"},
        {"name": "멘타이 파크", "lat": 33.5880, "lon": 130.3950, "desc": "명란젓 테마 레스토랑 🐟"},
        {"name": "이자카야 로쿠", "lat": 33.5920, "lon": 130.4030, "desc": "현지 술안주와 생맥주 🍶"},
        {"name": "우동 히라오", "lat": 33.5935, "lon": 130.4080, "desc": "튀김 우동 맛집 🍤"},
        {"name": "텐푸라 텐신", "lat": 33.5950, "lon": 130.4100, "desc": "노포 텐푸라 전문점 🍤"},
    ],
    "삿포로": [
        {"name": "스프 카레 가라쿠", "lat": 43.0606, "lon": 141.3542, "desc": "홋카이도식 스프 카레 🍛"},
        {"name": "스시 하나마루", "lat": 43.0661, "lon": 141.3506, "desc": "신선한 회전 스시 🍣"},
        {"name": "징기스칸 다루마", "lat": 43.0550, "lon": 141.3400, "desc": "양고기 징기스칸 전문점 🐏"},
        {"name": "라멘 산파치", "lat": 43.0700, "lon": 141.3600, "desc": "삿포로 미소라멘 🍜"},
        {"name": "게요리 가니혼케", "lat": 43.0650, "lon": 141.3550, "desc": "홋카이도 대게 전문점 🦀"},
        {"name": "야키토리 신", "lat": 43.0620, "lon": 141.3520, "desc": "닭꼬치 전문 이자카야 🍢"},
        {"name": "텐푸라 아베", "lat": 43.0640, "lon": 141.3490, "desc": "정통 텐푸라 전문 🍤"},
    ],
    "나고야": [
        {"name": "미소카츠 야바톤", "lat": 35.1709, "lon": 136.8815, "desc": "나고야 명물 미소 돈카츠 🐖"},
        {"name": "히츠마부시 호라이켄", "lat": 35.1615, "lon": 136.9029, "desc": "장어덮밥 명가 🐟"},
        {"name": "텐무스 센쥬", "lat": 35.1650, "lon": 136.9050, "desc": "새우튀김 주먹밥 🍙"},
        {"name": "야바톤 소혼케", "lat": 35.1720, "lon": 136.8850, "desc": "돼지고기 정식 전문 🍖"},
        {"name": "스시 이즈미", "lat": 35.1680, "lon": 136.8860, "desc": "현지인 추천 스시 🍣"},
        {"name": "라멘 카라쿠치", "lat": 35.1740, "lon": 136.8900, "desc": "매콤한 국물의 라멘 🍜"},
        {"name": "우동 이모", "lat": 35.1760, "lon": 136.8930, "desc": "전통 우동 맛집 🍜"},
    ]
}


# 지도 생성
city_center = city_coords[selected_city]
m = folium.Map(location=city_center, zoom_start=13)

# 맛집 마커 추가
for place in restaurants[selected_city]:
    folium.Marker(
        location=[place["lat"], place["lon"]],
        popup=f"<b>{place['name']}</b><br>{place['desc']}",
        tooltip=place["name"],
        icon=folium.Icon(color="red", icon="cutlery", prefix="fa")
    ).add_to(m)

# Folium 지도 출력
st_data = st_folium(m, width=900, height=600)

# 아래 줄은 코드 바깥 설명이므로 주석으로만 사용해야 합니다
# 🇯🇵🍤🍛
